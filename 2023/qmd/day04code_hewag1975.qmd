---
title: "Advent of code 2023, Day 04"
author: "Hendrik Wagenseil (HW), Tim Appelhans (TA)"
format: html
editor_options: 
  chunk_output_type: console
---

```{r}
#| label: setup
#| include: false

library(reticulate)

use_virtualenv(
  file.path(
    here::here()
    , ".venv"
  )
)

knitr::opts_knit$set(
  root.dir = '~/Documents/repos/github/adventofcode'
)

y = "2023"
d = "04"

ifl = file.path(here::here(), y, "data", paste0("day", d, "input"))
txt = readLines(ifl)
```

```{r}
head(txt)
```


::: {.panel-tabset}

## Part I

Count the number of winning cards. 

::: {.panel-tabset}

#### R (HW)

```{r}

score = function(x){
  
  spl = strsplit(x, split = "\\|")[[1]]
  pairs = lapply(
    1:2
    , FUN = \(i){
      strsplit(spl[i], split = " ")[[1]] |> 
        as.integer() |> 
        na.omit()
    }
  )
  
  wins = sum(pairs[[2]] %in% pairs[[1]])
  if (wins > 0) return(2^(wins - 1L))
  else return(0)
  
}

txt = gsub("^.*?:", "", txt) 

Map(
  score
  , x = txt
) |> 
  unname() |> 
  unlist() |> 
  sum()
```

#### Python

```{python}
```

:::


## Part II


::: {.panel-tabset}

#### R

```{r}
```

#### Python

```{python}
```

:::

:::
